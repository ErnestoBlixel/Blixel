---\nimport { languages, routes, siteInfo } from '../i18n/config';\n\n// Configuración del sitemap\nconst site = 'https://blixel.es';\nconst changefreq = 'weekly';\nconst priority = {\n  home: '1.0',\n  main: '0.8',\n  secondary: '0.6'\n};\n\n// Generar URLs para todos los idiomas\nconst urls = [];\n\n// Páginas principales\nObject.entries(routes).forEach(([routeKey, routeUrls]) => {\n  Object.entries(routeUrls).forEach(([lang, url]) => {\n    const fullUrl = `${site}${url}`;\n    const langInfo = languages[lang];\n    \n    // Determinar prioridad\n    let pagePriority = priority.secondary;\n    if (routeKey === 'home') {\n      pagePriority = priority.home;\n    } else if (['about', 'services', 'contact'].includes(routeKey)) {\n      pagePriority = priority.main;\n    }\n    \n    // Generar alternativas de idioma\n    const alternates = Object.entries(routeUrls)\n      .filter(([altLang]) => altLang !== lang)\n      .map(([altLang, altUrl]) => ({\n        hreflang: altLang === 'ca' ? 'ca-ES' : 'es-ES',\n        href: `${site}${altUrl}`\n      }));\n    \n    urls.push({\n      url: fullUrl,\n      changefreq,\n      priority: pagePriority,\n      lastmod: new Date().toISOString().split('T')[0],\n      hreflang: langInfo.locale,\n      alternates\n    });\n  });\n});\n\n// Generar XML del sitemap\nconst sitemapXml = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"\n        xmlns:xhtml=\"http://www.w3.org/1999/xhtml\">\n${urls.map(({ url, changefreq, priority, lastmod, alternates }) => `  <url>\n    <loc>${url}</loc>\n    <lastmod>${lastmod}</lastmod>\n    <changefreq>${changefreq}</changefreq>\n    <priority>${priority}</priority>\n${alternates.map(alt => `    <xhtml:link rel=\"alternate\" hreflang=\"${alt.hreflang}\" href=\"${alt.href}\" />`).join('\\n')}\n  </url>`).join('\\n')}\n</urlset>`;\n\n// Configurar respuesta\nAstro.response.headers.set('Content-Type', 'application/xml');\n---\n\n{sitemapXml}\n