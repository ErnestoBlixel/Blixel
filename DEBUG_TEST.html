<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîß TEST DIAGN√ìSTICO - SLIDER LOGOS</title>
    <style>
        body {
            background: #000;
            color: white;
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .logos-slider-wrapper {
            position: relative;
            width: 100%;
            margin: 2rem auto;
            padding: 2rem 0;
            border: 2px solid #60a5fa;
            border-radius: 10px;
            background: rgba(96, 165, 250, 0.1);
        }
        
        .logos-slider-container {
            position: relative;
            overflow: hidden;
            margin: 0 auto;
        }
        
        .logos-slider {
            position: relative;
            overflow: hidden;
            width: 100%;
        }
        
        .slider-track {
            display: flex;
            animation: scrollLogos 30s linear infinite;
            width: fit-content;
            gap: 2rem;
        }
        
        .logo-item {
            flex: 0 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 150px;
            height: 80px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .logo-item img {
            height: 60px;
            width: auto;
            max-width: 130px;
            object-fit: contain;
        }
        
        @keyframes scrollLogos {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        
        .status {
            background: #1a1a1a;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #60a5fa;
        }
        
        .error {
            border-left-color: #ef4444;
            background: #2a1a1a;
        }
        
        .success {
            border-left-color: #22c55e;
            background: #1a2a1a;
        }
        
        .logo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin: 20px 0;
            padding: 20px;
            background: #1a1a1a;
            border-radius: 8px;
        }
        
        .logo-test {
            text-align: center;
            padding: 10px;
            background: #2a2a2a;
            border-radius: 4px;
        }
        
        .logo-test img {
            height: 40px;
            width: auto;
            max-width: 80px;
            object-fit: contain;
        }
        
        button {
            background: #60a5fa;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin: 10px 5px;
        }
        
        button:hover {
            background: #3b82f6;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üîß DIAGN√ìSTICO DEL SLIDER DE LOGOS</h1>
        
        <div class="status">
            <h3>üìã Estado del Test</h3>
            <p id="test-status">Iniciando diagn√≥stico...</p>
        </div>
        
        <div class="status">
            <h3>üìÅ Verificaci√≥n de Logos</h3>
            <p>Probando acceso a logos individuales:</p>
            <div class="logo-grid" id="logo-grid"></div>
        </div>
        
        <div class="status">
            <h3>üé¢ Slider de Prueba</h3>
            <p>Slider con logos detectados autom√°ticamente:</p>
            <div class="logos-slider-wrapper">
                <div class="logos-slider-container">
                    <div class="logos-slider">
                        <div class="slider-track" id="slider-track">
                            <div class="logo-item">‚è≥ Cargando...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="status">
            <h3>üéÆ Controles</h3>
            <button onclick="testAllLogos()">üîç Verificar Todos los Logos</button>
            <button onclick="buildSlider()">üöÄ Construir Slider</button>
            <button onclick="clearSlider()">üßπ Limpiar Slider</button>
        </div>
        
        <div class="status">
            <h3>üìä Log de Actividad</h3>
            <div id="activity-log" style="font-family: monospace; font-size: 12px; max-height: 300px; overflow-y: auto; background: #0a0a0a; padding: 10px; border-radius: 4px;"></div>
        </div>
    </div>

    <script>
        const log = (message, type = 'info') => {
            const logElement = document.getElementById('activity-log');
            const timestamp = new Date().toLocaleTimeString();
            const colors = {
                'info': '#60a5fa',
                'success': '#22c55e',
                'error': '#ef4444',
                'warning': '#f59e0b'
            };
            
            logElement.innerHTML += `<div style="color: ${colors[type] || '#ffffff'};">[${timestamp}] ${message}</div>`;
            logElement.scrollTop = logElement.scrollHeight;
            console.log(`[${timestamp}] ${message}`);
        };

        async function testAllLogos() {
            log('üîç Iniciando verificaci√≥n de logos...', 'info');
            const logoGrid = document.getElementById('logo-grid');
            logoGrid.innerHTML = '';
            
            const foundLogos = [];
            
            // Probar logos del 1 al 20 para estar seguros
            for (let i = 1; i <= 20; i++) {
                try {
                    const response = await fetch(`/logos/${i}.png`, { method: 'HEAD' });
                    const logoTest = document.createElement('div');
                    logoTest.className = 'logo-test';
                    
                    if (response.ok) {
                        logoTest.innerHTML = `
                            <img src="/logos/${i}.png" alt="Logo ${i}" onerror="this.style.display='none'">
                            <div>${i} ‚úÖ</div>
                        `;
                        logoTest.style.borderLeft = '3px solid #22c55e';
                        foundLogos.push(i);
                        log(`‚úÖ Logo ${i}.png encontrado`, 'success');
                    } else {
                        logoTest.innerHTML = `<div>${i} ‚ùå</div>`;
                        logoTest.style.borderLeft = '3px solid #ef4444';
                        log(`‚ùå Logo ${i}.png no encontrado`, 'error');
                    }
                    
                    logoGrid.appendChild(logoTest);
                } catch (error) {
                    log(`‚ö†Ô∏è Error probando logo ${i}: ${error.message}`, 'warning');
                }
            }
            
            log(`üìä Total de logos encontrados: ${foundLogos.length}`, 'info');
            document.getElementById('test-status').innerHTML = `‚úÖ Verificaci√≥n completa. ${foundLogos.length} logos encontrados: [${foundLogos.join(', ')}]`;
            
            return foundLogos;
        }

        async function buildSlider() {
            log('üöÄ Construyendo slider...', 'info');
            const sliderTrack = document.getElementById('slider-track');
            
            // Limpiar slider
            sliderTrack.innerHTML = '';
            
            // Usar logos fijos conocidos
            const logos = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15];
            log(`üìã Usando logos: [${logos.join(', ')}]`, 'info');
            
            // Crear elementos originales
            const logoElements = [];
            logos.forEach(num => {
                const logoDiv = document.createElement('div');
                logoDiv.className = 'logo-item';
                logoDiv.innerHTML = `<img src="/logos/${num}.png" alt="Logo ${num}" loading="lazy">`;
                logoElements.push(logoDiv);
            });
            
            // Crear duplicados
            const logoDuplicates = [];
            logos.forEach(num => {
                const logoDiv = document.createElement('div');
                logoDiv.className = 'logo-item';
                logoDiv.innerHTML = `<img src="/logos/${num}.png" alt="Logo ${num}" loading="lazy">`;
                logoDuplicates.push(logoDiv);
            });
            
            // Agregar todos al slider
            [...logoElements, ...logoDuplicates].forEach(element => {
                sliderTrack.appendChild(element);
            });
            
            log(`‚ú® Slider construido con ${logoElements.length * 2} elementos`, 'success');
            document.getElementById('test-status').innerHTML = `‚úÖ Slider construido exitosamente con ${logoElements.length * 2} elementos`;
        }

        function clearSlider() {
            log('üßπ Limpiando slider...', 'info');
            const sliderTrack = document.getElementById('slider-track');
            sliderTrack.innerHTML = '<div class="logo-item">üßπ Limpiado</div>';
            document.getElementById('test-status').innerHTML = 'üßπ Slider limpiado';
        }

        // Auto-ejecutar al cargar
        document.addEventListener('DOMContentLoaded', () => {
            log('üéØ P√°gina cargada, iniciando diagn√≥stico autom√°tico...', 'info');
            setTimeout(() => {
                testAllLogos().then(foundLogos => {
                    if (foundLogos.length > 0) {
                        setTimeout(buildSlider, 1000);
                    }
                });
            }, 500);
        });
    </script>
</body>
</html>
